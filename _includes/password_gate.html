<div id="password-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #ffffff; z-index: 10000; display: flex; align-items: center; justify-content: center; flex-direction: column;">
    <div style="text-align: center; max-width: 400px; padding: 20px;">
        <h2 style="color: #5A7D7C; font-family: 'Playfair Display', serif; margin-bottom: 20px;">Private Access</h2>
        <p style="font-family: 'Lato', sans-serif; margin-bottom: 20px;">This site is currently in private preview. Please enter the password to continue.</p>
        <input type="password" id="site-password" style="padding: 10px; font-size: 16px; width: 100%; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 4px;" placeholder="Password">
        <button id="submit-password" style="background: #5A7D7C; color: white; border: none; padding: 10px 20px; font-size: 16px; cursor: pointer; border-radius: 4px; font-family: 'Lato', sans-serif;">Enter</button>
        <p id="error-message" style="color: red; display: none; margin-top: 10px; font-family: 'Lato', sans-serif;">Incorrect password.</p>
    </div>
</div>

<script>
    (function() {
        const overlay = document.getElementById('password-overlay');
        const input = document.getElementById('site-password');
        const button = document.getElementById('submit-password');
        const errorMsg = document.getElementById('error-message');
        
        // SHA-256 hash of 'manu'
        const TARGET_HASH = "dbde6e431edd7f4672f039680c58d4a0b59bff2dacfa25d63a228ba2ce392bd1";

        async function hash(string) {
            const utf8 = new TextEncoder().encode(string);
            const hashBuffer = await crypto.subtle.digest('SHA-256', utf8);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            const hashHex = hashArray.map((b) => b.toString(16).padStart(2, '0')).join('');
            return hashHex;
        }

        function checkSession() {
            if (!sessionStorage.getItem('site_authenticated')) {
                overlay.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            } else {
                overlay.style.display = 'none';
            }
        }

        async function unlock() {
            const userHash = await hash(input.value);
            if (userHash === TARGET_HASH) {
                sessionStorage.setItem('site_authenticated', 'true');
                overlay.style.display = 'none';
                document.body.style.overflow = '';
            } else {
                errorMsg.style.display = 'block';
                input.value = '';
            }
        }

        button.addEventListener('click', unlock);
        input.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') unlock();
        });

        checkSession();
    })();
</script>
